<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[lomozm’s Journal]]></title>
  <link href="http://lomozm.github.io/atom.xml" rel="self"/>
  <link href="http://lomozm.github.io/"/>
  <updated>2013-12-25T22:22:28+08:00</updated>
  <id>http://lomozm.github.io/</id>
  <author>
    <name><![CDATA[lomozm]]></name>
    <email><![CDATA[18064095@qq.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[SAP工作流开发实例]]></title>
    <link href="http://lomozm.github.io/blog/20131225/sapgong-zuo-liu-kai-fa-shi-li/"/>
    <updated>2013-12-25T16:33:52+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/sapgong-zuo-liu-kai-fa-shi-li</id>
    <content type="html"><![CDATA[
<p>开发事务代码目录截屏<br />
<img src="http://lomozm.github.io/images/images/SAPWorkFlowStepbyStep.files/image001.png" alt="m001" /><br />
其他可能使用到的事务代码——<br />
SWE2：显示/维护事件类型链接<br />
SWEL：显示事件记录<br />
 <!--more--></p>

<h3 id="tcode-su01">准备 – Tcode: su01创建接收工作流用户</h3>
<p>创建用户名: GW-TEST2, 密码: ******；当工作流提交后，下一步处理的用户<br /></p>

<p>*图片太多影响速度，详细请<a href="http://lomozm.github.io/appendix/SAPWorlFlowStepbyStep.docx">下载文档</a><br /></p>

<h3 id="tcode-se11-">步骤1 – Tcode: se11 建表存储工作流数据</h3>
<p>表ZWFTST01用于存放工作流审批数据<br />
表<code>ZWFTST02</code>用于存放工作流内容数据<br /></p>

<h3 id="tcode-se80">步骤2 - Tcode: se80函数组</h3>
<p>工作流的数据操作使用函数方式调用，必需放在在函数组中<br />
函数组名：<code>ZTEST_SWF</code>，创建后，使它激活<br />
进入函数组，在<code>INCLUDE LZTEST_SWFTOP</code>中加入全局定义数据<br /></p>

<h3 id="tcode-se37-">步骤3 – Tcode: se37 创建工作流界面处理函数</h3>
<p>工作流处理过程中，需要对数据进行操作，同时，数据处理完成后，提交到下一个节点处理。这些都是函数<code>ZTEST_SWF_SCREEN_01</code>的功能<br /></p>

<p>附函数源代码<br />
Data define——<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class=""><span class="line">FUNCTION-POOL ZTEST_SWF.                    "MESSAGE-ID ..
</span><span class="line">INCLUDE &lt;cntn01&gt;. "操作工作流的容器元素
</span><span class="line">
</span><span class="line">data: gwa_02 type ZWFTST02,
</span><span class="line">      gwa_01 type zwftst01.
</span><span class="line">
</span><span class="line">DATA: OK_CODE TYPE SY-UCOMM.
</span><span class="line">
</span><span class="line">data: it_pa0001 type table of pa0001 with header line.
</span><span class="line">data: g_string type char20.
</span><span class="line">
</span><span class="line">*&amp;SPWIZARD: DECLARATION OF TABLECONTROL 'TAB_CONTROL' ITSELF
</span><span class="line">CONTROLS: TAB_CONTROL TYPE TABLEVIEW USING SCREEN 0100.</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Before output——<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class=""><span class="line">*----------------------------------------------------------------------*
</span><span class="line">***INCLUDE LZTEST_SWFO01 .
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Module  STATUS_0100  OUTPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">MODULE STATUS_0100 OUTPUT.
</span><span class="line">  SET PF-STATUS '0100'.
</span><span class="line">  SET TITLEBAR '100'.
</span><span class="line">
</span><span class="line">  clear: ok_code.
</span><span class="line">  perform get_initial using gwa_02-wfcode.
</span><span class="line">
</span><span class="line">ENDMODULE.                 " STATUS_0100  OUTPUT
</span><span class="line">
</span><span class="line">*&amp;SPWIZARD: OUTPUT MODULE FOR TC 'TAB_CONTROL'. DO NOT CHANGE THIS LINE!
</span><span class="line">*&amp;SPWIZARD: UPDATE LINES FOR EQUIVALENT SCROLLBAR
</span><span class="line">MODULE TAB_CONTROL_CHANGE_TC_ATTR OUTPUT.
</span><span class="line">  DESCRIBE TABLE IT_PA0001 LINES TAB_CONTROL-lines.
</span><span class="line">ENDMODULE.                    "TAB_CONTROL_CHANGE_TC_ATTR OUTPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Module  GET_INITIAL_DATA  OUTPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">MODULE GET_INITIAL_DATA OUTPUT.
</span><span class="line">  select * into table it_pa0001 from pa0001 up to 2 rows.
</span><span class="line">ENDMODULE.                 " GET_INITIAL_DATA  OUTPUT</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>After input——<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class=""><span class="line">*----------------------------------------------------------------------*
</span><span class="line">***INCLUDE LZTEST_SWFI01 .
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Module  SCREEN_EXIT  INPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">MODULE SCREEN_EXIT INPUT.
</span><span class="line">  leave program.
</span><span class="line">ENDMODULE.                 " SCREEN_EXIT  INPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Module  USER_COMMAND_0100  INPUT
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">MODULE USER_COMMAND_0100 INPUT.
</span><span class="line">  case ok_code.
</span><span class="line">    when 'APPRO'.
</span><span class="line">      PERFORM CALL_APPROVAL_WF.
</span><span class="line">      LEAVE TO SCREEN 0.
</span><span class="line">    WHEN 'REJEC'.
</span><span class="line">      PERFORM CALL_REJECT_WF.
</span><span class="line">      LEAVE TO SCREEN 0.
</span><span class="line">    when 'CLICK'.
</span><span class="line">      PERFORM DOUBLE_CLICK_PROCESS." '-然后，进行处理
</span><span class="line">    WHEN 'BACK'.
</span><span class="line">      LEAVE TO SCREEN 0.
</span><span class="line">  ENDCASE.
</span><span class="line">ENDMODULE.                 " USER_COMMAND_0100  INPUT</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Forms——<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
</pre></td><td class="code"><pre><code class=""><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*  INCLUDE LZTEST_SWFF01 .
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Form  GET_INITIAL
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*      --&gt;P_GWA_02_WFCODE  text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">FORM GET_INITIAL  USING    P_GWA_02_WFCODE.
</span><span class="line">
</span><span class="line">  select single * into gwa_01 from ZWFTST01
</span><span class="line">    where wfcode eq P_GWA_02_WFCODE.
</span><span class="line">
</span><span class="line">ENDFORM.                    " GET_INITIAL
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Form  CALL_APPROVAL_WF
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*  --&gt;  p1        text
</span><span class="line">*  &lt;--  p2        text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">FORM CALL_APPROVAL_WF .
</span><span class="line">  DATA: ls_instanceid TYPE char32,
</span><span class="line">        ls_event TYPE char61,
</span><span class="line">        ls_workflowname TYPE char30.
</span><span class="line">  DATA: im_event_container TYPE REF TO if_swf_ifs_parameter_container.
</span><span class="line">  DATA: ls_rc TYPE sy-subrc.
</span><span class="line">
</span><span class="line">  CONCATENATE 'Z##' gwa_02-wFcode  INTO LS_INSTANCEID.  "工作流号码
</span><span class="line">
</span><span class="line">  LS_EVENT        = 'APPROVED'.
</span><span class="line">  LS_WORKFLOWNAME = 'ZTEST_SWF01_01'.
</span><span class="line">  CALL METHOD CL_SWF_EVT_EVENT=&gt;GET_EVENT_CONTAINER
</span><span class="line">    EXPORTING
</span><span class="line">      IM_OBJCATEG  = CL_SWF_EVT_EVENT=&gt;MC_OBJCATEG_CL
</span><span class="line">      IM_OBJTYPE   = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT     = LS_EVENT
</span><span class="line">    RECEIVING
</span><span class="line">      RE_REFERENCE = IM_EVENT_CONTAINER.
</span><span class="line">
</span><span class="line">** because APPROVED event have not parameters
</span><span class="line">
</span><span class="line">*  CALL METHOD IM_EVENT_CONTAINER-&gt;SET
</span><span class="line">*    EXPORTING
</span><span class="line">*      NAME  = 'PARA_EV_SIGN'
</span><span class="line">*      VALUE = l_PARA_EV_SIGN.
</span><span class="line">
</span><span class="line">  CALL FUNCTION 'ZTRIGGERWF'
</span><span class="line">    EXPORTING
</span><span class="line">      INSTANCEID         = LS_INSTANCEID
</span><span class="line">      EVENT              = LS_EVENT
</span><span class="line">      WORKFLOWNAME       = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT_CONTAINER = IM_EVENT_CONTAINER
</span><span class="line">    IMPORTING
</span><span class="line">      RC                 = LS_RC.
</span><span class="line">  IF LS_RC = 0.
</span><span class="line">    gwa_02-state = 'M'.   "to modify text
</span><span class="line">    modify ZWFTST02 from gwa_02.
</span><span class="line">
</span><span class="line">    LEAVE TO SCREEN 0.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">ENDFORM.                    " CALL_APPROVAL_WF
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Form  CALL_REJECT_WF
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*  --&gt;  p1        text
</span><span class="line">*  &lt;--  p2        text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">FORM CALL_REJECT_WF .
</span><span class="line">  DATA: ls_instanceid TYPE char32,
</span><span class="line">        ls_event TYPE char61,
</span><span class="line">        ls_workflowname TYPE char30.
</span><span class="line">  DATA: im_event_container TYPE REF TO if_swf_ifs_parameter_container.
</span><span class="line">  DATA: ls_rc TYPE sy-subrc.
</span><span class="line">
</span><span class="line">  CONCATENATE 'Z##' gwa_02-wFcode  INTO LS_INSTANCEID.  "工作流号码
</span><span class="line">
</span><span class="line">  LS_EVENT        = 'REJECTED'.
</span><span class="line">  LS_WORKFLOWNAME = 'ZTEST_SWF01_01'.
</span><span class="line">  CALL METHOD CL_SWF_EVT_EVENT=&gt;GET_EVENT_CONTAINER
</span><span class="line">    EXPORTING
</span><span class="line">      IM_OBJCATEG  = CL_SWF_EVT_EVENT=&gt;MC_OBJCATEG_CL
</span><span class="line">      IM_OBJTYPE   = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT     = LS_EVENT
</span><span class="line">    RECEIVING
</span><span class="line">      RE_REFERENCE = IM_EVENT_CONTAINER.
</span><span class="line">
</span><span class="line">** because REJECTED event have not parameters
</span><span class="line">
</span><span class="line">*  CALL METHOD IM_EVENT_CONTAINER-&gt;SET
</span><span class="line">*    EXPORTING
</span><span class="line">*      NAME  = 'PARA_EV_SIGN'
</span><span class="line">*      VALUE = l_PARA_EV_SIGN.
</span><span class="line">
</span><span class="line">  CALL FUNCTION 'ZTRIGGERWF'
</span><span class="line">    EXPORTING
</span><span class="line">      INSTANCEID         = LS_INSTANCEID
</span><span class="line">      EVENT              = LS_EVENT
</span><span class="line">      WORKFLOWNAME       = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT_CONTAINER = IM_EVENT_CONTAINER
</span><span class="line">    IMPORTING
</span><span class="line">      RC                 = LS_RC.
</span><span class="line">  IF LS_RC = 0.
</span><span class="line">    gwa_02-state = 'E'.   "to mail
</span><span class="line">    modify ZWFTST02 from gwa_02.
</span><span class="line">
</span><span class="line">    LEAVE TO SCREEN 0.
</span><span class="line">  endif.
</span><span class="line">ENDFORM.                    " CALL_REJECT_WF
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*&amp;      Form  DOUBLE_CLICK_PROCESS
</span><span class="line">*&amp;---------------------------------------------------------------------*
</span><span class="line">*       text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">*  --&gt;  p1        text
</span><span class="line">*  &lt;--  p2        text
</span><span class="line">*----------------------------------------------------------------------*
</span><span class="line">FORM DOUBLE_CLICK_PROCESS .
</span><span class="line">  DATA: LV_LINE       TYPE I,
</span><span class="line">          LV_CUR_LINE   TYPE I.
</span><span class="line">
</span><span class="line">* GET CURSOR FIELD f LINE l OFFSET o.
</span><span class="line">  GET CURSOR LINE LV_CUR_LINE.  "--先取得光标所在的行
</span><span class="line">  LV_LINE = TAB_CONTROL-TOP_LINE + LV_CUR_LINE - 1.  "--然后，计算对应着的内表中的行
</span><span class="line">
</span><span class="line">*  READ TABLE GT_ZESTSR01 INDEX LV_LINE. " --然后读取内表中双击行的内容，进行下的处理
</span><span class="line">*  IF GT_ZESTSR01-END_IL NE '99991231'.
</span><span class="line">*    ......processing......
</span><span class="line">*  ENDIF.
</span><span class="line">
</span><span class="line">ENDFORM.</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="tcodese37">步骤4 – Tcode:se37创建获取审批人函数</h3>
<p>创建函数<code>ZTEST_SWF_GET_APPROVER</code>取得工作流的审批人<br />
![m017][m017]<br />
参数<br />
![m018][m018]<br />
源代码截屏<br />
![m019][m019]<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
</pre></td><td class="code"><pre><code class=""><span class="line">FUNCTION ZTEST_SWF_GET_APPROVER.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"Local interface:
</span><span class="line">*"  TABLES
</span><span class="line">*"      AC_CONTAINER STRUCTURE  SWCONT
</span><span class="line">*"      ACTOR_TAB STRUCTURE  SWHACTOR
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">
</span><span class="line">*  DATA:l_czlx TYPE char02,
</span><span class="line">*       l_hzdh TYPE z00hrhzdh,
</span><span class="line">*       l_hcws TYPE z00hrhcws.
</span><span class="line">  data: wf_code_cont type char20,
</span><span class="line">        wa_ZWFTST01 type ZWFTST01.
</span><span class="line">  swc_container_to_runtime ac_container.
</span><span class="line">  REFRESH actor_tab.
</span><span class="line">*&amp; 获取工作流中的容器元素值
</span><span class="line">*  swc_get_element ac_container 'CZLX'    l_czlx.
</span><span class="line">*  swc_get_element ac_container 'HZDH'    l_hzdh.
</span><span class="line">*  swc_get_element ac_container 'HCWS'    l_hcws.
</span><span class="line">  swc_get_element ac_container 'WF_CODE_CONT'    wf_code_cont.
</span><span class="line">**加入审批用户
</span><span class="line">  select single * into corresponding fields of wa_ZWFTST01
</span><span class="line">    from ZWFTST01
</span><span class="line">    where WFCODE eq wf_code_cont.
</span><span class="line">  if sy-subrc eq 0.
</span><span class="line">    actor_tab-objid = wa_ZWFTST01-APPRO.
</span><span class="line">  else.
</span><span class="line">    actor_tab-objid = 'GW-ZM'.
</span><span class="line">  endif.
</span><span class="line">  actor_tab-otype = 'US'.   "用户类型
</span><span class="line">  APPEND actor_tab.
</span><span class="line">ENDFUNCTION.</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="tcode-se37--1">步骤5 – Tcode: se37 创建工作流触发函数</h3>
<p>创建函数<code>ZTRIGGERWF</code>，在程序中调用该函数触发工作流<br /></p>

<p>代码截屏<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
</pre></td><td class="code"><pre><code class=""><span class="line">FUNCTION ZTRIGGERWF.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"Local interface:
</span><span class="line">*"  IMPORTING
</span><span class="line">*"     VALUE(INSTANCEID) TYPE  CHAR32
</span><span class="line">*"     VALUE(EVENT) TYPE  CHAR61
</span><span class="line">*"     VALUE(WORKFLOWNAME) TYPE  CHAR30
</span><span class="line">*"     REFERENCE(IM_EVENT_CONTAINER) TYPE REF TO
</span><span class="line">*"        IF_SWF_IFS_PARAMETER_CONTAINER OPTIONAL
</span><span class="line">*"  EXPORTING
</span><span class="line">*"     REFERENCE(RC) TYPE  SY-SUBRC
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">  DATA:
</span><span class="line">           lv_objtype       TYPE sibftypeid,
</span><span class="line">           lv_event         TYPE sibfevent,
</span><span class="line">           lv_objkey        TYPE sibfinstid.
</span><span class="line">
</span><span class="line">  lv_objtype = workflowname.
</span><span class="line">  lv_event   = event.
</span><span class="line">  lv_objkey = instanceid.
</span><span class="line">
</span><span class="line">* Raise the event
</span><span class="line">  TRY.
</span><span class="line">      CALL METHOD cl_swf_evt_event=&gt;raise
</span><span class="line">        EXPORTING
</span><span class="line">          im_objcateg = cl_swf_evt_event=&gt;mc_objcateg_cl
</span><span class="line">          im_objtype  = lv_objtype
</span><span class="line">          im_event    = lv_event
</span><span class="line">          im_objkey   = lv_objkey
</span><span class="line">          im_event_container = im_event_container.
</span><span class="line">      rc = 0.
</span><span class="line">    CATCH cx_swf_evt_invalid_objtype .
</span><span class="line">      rc = 1.
</span><span class="line">    CATCH cx_swf_evt_invalid_event .
</span><span class="line">      rc = 2.
</span><span class="line">  ENDTRY.
</span><span class="line">  COMMIT WORK AND WAIT.
</span><span class="line">
</span><span class="line">ENDFUNCTION. </span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="tcode-se80-">步骤6 – Tcode: se80 创建工作流处理类</h3>
<p>创建类<code>ZTEST_SWF01_01</code>用于响应工作流处理过程中的事件<br /></p>

<p>新增 3 接口(仅需这3个就行了)：<code>BI_OBJECT</code>，<code>BI_PERSISTENT</code>，<code>IF_WORKFLOW</code><br />
最后，激活该类<br /></p>

<h3 id="tcodese24">步骤7 – Tcode:se24事件完成后执行该类中事件</h3>
<p>新类<code>ZTEST_SWF01_EXIT</code>从demo类<code>CL_SWF_WORKITEM_EXIT_TST</code>拷贝过来，再改方法<code>CHANGE_CONT_ELEMENT</code>基本不需要更改<br /></p>

<h3 id="tcode-se38-">步骤10 – Tcode: se38 新增程序去触发流程开始</h3>
<p>完整代码<br /></p>

<p>方法1:<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
</pre></td><td class="code"><pre><code class=""><span class="line">FORM CREATE_WORKFLOW .
</span><span class="line">  DATA: ls_instanceid TYPE char32,
</span><span class="line">        ls_event TYPE char61,
</span><span class="line">        ls_workflowname TYPE char30.
</span><span class="line">  DATA: im_event_container TYPE REF TO if_swf_ifs_parameter_container.
</span><span class="line">  DATA: ls_rc TYPE sy-subrc.
</span><span class="line">
</span><span class="line">  data: l_PARA_EV_SIGN type char10,
</span><span class="line">        lwa_test02 type ZWFTST02,
</span><span class="line">        lwa_test01 type zwftst01.
</span><span class="line">
</span><span class="line">  check p_wcode is not initial.
</span><span class="line">  lwa_test02-wfcode = p_wcode.
</span><span class="line">  lwa_test02-ctext = p_ctext.
</span><span class="line">
</span><span class="line">  lwa_test01-wfcode = p_wcode.
</span><span class="line">  lwa_test01-CUSER = sy-uname.
</span><span class="line">  lwa_test01-CDATE = sy-datum.
</span><span class="line">  lwa_test01-appro = p_appro.
</span><span class="line">  modify zwftst01 from  lwa_test01.
</span><span class="line">
</span><span class="line">  CONCATENATE 'Z##' p_wcode  INTO LS_INSTANCEID.  "工作流号码
</span><span class="line">  lwa_test02-WFCODENO = LS_INSTANCEID.
</span><span class="line">  lwa_test02-state = 'C'.
</span><span class="line">  modify ZWFTST02 from lwa_test02.
</span><span class="line">
</span><span class="line">  LS_EVENT        = 'CREATED'.
</span><span class="line">  LS_WORKFLOWNAME = 'ZTEST_SWF01_01'.
</span><span class="line">  CALL METHOD CL_SWF_EVT_EVENT=&gt;GET_EVENT_CONTAINER
</span><span class="line">    EXPORTING
</span><span class="line">      IM_OBJCATEG  = CL_SWF_EVT_EVENT=&gt;MC_OBJCATEG_CL
</span><span class="line">      IM_OBJTYPE   = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT     = LS_EVENT
</span><span class="line">    RECEIVING
</span><span class="line">      RE_REFERENCE = IM_EVENT_CONTAINER.
</span><span class="line">
</span><span class="line">  l_PARA_EV_SIGN = p_wcode.
</span><span class="line">  CALL METHOD IM_EVENT_CONTAINER-&gt;SET
</span><span class="line">    EXPORTING
</span><span class="line">      NAME  = 'PARA_EV_SIGN'
</span><span class="line">      VALUE = l_PARA_EV_SIGN.
</span><span class="line">
</span><span class="line">  CALL FUNCTION 'ZTRIGGERWF'
</span><span class="line">    EXPORTING
</span><span class="line">      INSTANCEID         = LS_INSTANCEID
</span><span class="line">      EVENT              = LS_EVENT
</span><span class="line">      WORKFLOWNAME       = LS_WORKFLOWNAME
</span><span class="line">      IM_EVENT_CONTAINER = IM_EVENT_CONTAINER
</span><span class="line">    IMPORTING
</span><span class="line">      RC                 = LS_RC.
</span><span class="line">  IF LS_RC = 0.
</span><span class="line">    lwa_test02-state = 'A'.
</span><span class="line">    modify ZWFTST02 from lwa_test02.
</span><span class="line">    if sy-subrc eq 0.
</span><span class="line">      write: / 'The work flow: ',
</span><span class="line">                p_wcode,
</span><span class="line">                ' is started'.
</span><span class="line">    endif.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">ENDFORM.</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>方法2:<br /></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
</pre></td><td class="code"><pre><code class=""><span class="line">FORM CREATE_WORKFLOW2 .
</span><span class="line">  DATA: ZAGENTS  LIKE TABLE OF SWHACTOR WITH HEADER LINE.   "agents
</span><span class="line">  DATA WF_INITIATOR LIKE SWHACTOR   OCCURS 1 WITH HEADER LINE.
</span><span class="line">  DATA BEGIN OF WI_CONTAINER OCCURS 0.
</span><span class="line">          INCLUDE STRUCTURE SWCONT.
</span><span class="line">  DATA END OF WI_CONTAINER.
</span><span class="line">
</span><span class="line">
</span><span class="line">  DATA: ls_instanceid TYPE char32.
</span><span class="line">  data: l_PARA_EV_SIGN type char10,
</span><span class="line">      lwa_test02 type ZWFTST02,
</span><span class="line">      lwa_test01 type zwftst01.
</span><span class="line">
</span><span class="line">  check p_wcode is not initial.
</span><span class="line">  lwa_test02-wfcode = p_wcode.
</span><span class="line">  lwa_test02-ctext = p_ctext.
</span><span class="line">
</span><span class="line">  lwa_test01-wfcode = p_wcode.
</span><span class="line">  lwa_test01-CUSER = sy-uname.
</span><span class="line">  lwa_test01-CDATE = sy-datum.
</span><span class="line">  lwa_test01-appro = p_appro.
</span><span class="line">  modify zwftst01 from  lwa_test01.
</span><span class="line">
</span><span class="line">  CONCATENATE 'Z##' p_wcode  INTO LS_INSTANCEID.  "工作流号码
</span><span class="line">  lwa_test02-WFCODENO = LS_INSTANCEID.
</span><span class="line">  lwa_test02-state = 'C'.
</span><span class="line">  modify ZWFTST02 from lwa_test02.
</span><span class="line">
</span><span class="line">* Some workflow-specific initializing
</span><span class="line">  WF_INITIATOR-OTYPE = 'US'.
</span><span class="line">  WF_INITIATOR-OBJID = 'GW-ZM'.
</span><span class="line">
</span><span class="line">  SWC_SET_ELEMENT WI_CONTAINER '_WF_INITIATOR' WF_INITIATOR.
</span><span class="line">  SWC_SET_ELEMENT WI_CONTAINER 'WF_SIGN_TEXT'  p_wcode."
</span><span class="line">  SWC_SET_ELEMENT WI_CONTAINER 'WF_CODE_CONT'  p_wcode."
</span><span class="line">
</span><span class="line">  CALL FUNCTION 'SWW_WI_START_SIMPLE'
</span><span class="line">    EXPORTING
</span><span class="line">      TASK         = 'WS91100048'
</span><span class="line">    TABLES
</span><span class="line">      AGENTS       = ZAGENTS
</span><span class="line">      WI_CONTAINER = WI_CONTAINER.
</span><span class="line">  IF SY-SUBRC &lt;&gt; 0.
</span><span class="line">    MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
</span><span class="line">            WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
</span><span class="line">  else.
</span><span class="line">    write: / 'The work flow 2: ',
</span><span class="line">              p_wcode,
</span><span class="line">              ' is started'.
</span><span class="line">  ENDIF.
</span><span class="line">
</span><span class="line">ENDFORM.</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="section">问题解决——</h3>
<p>1. 如果出现：<br />
解决方法：<br />
在工作流类中，加入<code>BI_PERSISTENT~FIND_BY_LPOR</code>函数代码；注意函数<code>SWF_UTL_INVOKE_CLIF_METHOD</code>在所有工作流调用时，都会使这个函数；如果更改了类的方法，没有激活的话，也会报这种异常<br /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[针对SAP程序强出窗口的调试]]></title>
    <link href="http://lomozm.github.io/blog/20131225/zhen-dui-sapcheng-xu-qiang-chu-chuang-kou-de-diao-shi/"/>
    <updated>2013-12-25T14:21:15+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/zhen-dui-sapcheng-xu-qiang-chu-chuang-kou-de-diao-shi</id>
    <content type="html"><![CDATA[
<p>常会碰到对SAP程序进行调试，无非有以下几种
</p>
<p>1. 在程序中打断点或者加入breakpoint语名
</p>
<p>2. 输入<code>/H</code>命令
</p>
<!--more-->
<p>
如果是在系统程序中，想对强出窗口对进调试的话，只能使用第1种方法，找到相应的代码加断点，非常麻烦</p>

<p>感谢以前项目组一同事，提供了一断<a href="http://lomozm.github.io/appendix/popup debug.txt" title="File download">代码</a>，只需要把它写入到txt文件中，在弹出窗口时，把这个文件拖至弹出窗口上，相当于加入了<code>/h</code>命令<br /></p>
<p>代码入下：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">[FUNCTION]
</span><span class="line">
</span><span class="line">Command=/H
</span><span class="line">Title=Barry Test
</span><span class="line">Type=SystemCommand</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[金额格式化 - 千分符]]></title>
    <link href="http://lomozm.github.io/blog/20131225/jin-e-ge-shi-hua-qian-fen-fu/"/>
    <updated>2013-12-25T11:55:59+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/jin-e-ge-shi-hua-qian-fen-fu</id>
    <content type="html"><![CDATA[
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">function z_num2str.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"本地接口：
</span><span class="line">*"  IMPORTING
</span><span class="line">*"     REFERENCE(INUM) TYPE  STRING
</span><span class="line">*"  EXPORTING
</span><span class="line">*"     REFERENCE(ZSTR) TYPE  STRING
</span><span class="line">*"----------------------------------------------------------------------</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data : zclen type i,
</span><span class="line">        znum type dmbtr,
</span><span class="line">  n type i,
</span><span class="line">  zcstr(20) type c,
</span><span class="line">  zcstr2(20) type c,
</span><span class="line">  zctemp(3) type c,
</span><span class="line">  zflag(1) type c value '.',
</span><span class="line">  zflag2 type i value 0,
</span><span class="line">  zcdec(20) type c. "记录小数部分.
</span><span class="line">  zstr = ''.
</span><span class="line">  znum = INUM.
</span><span class="line">  check znum &lt;&gt; 0.
</span><span class="line">  if znum &lt;= -1000.
</span><span class="line">    zflag2 = 1.
</span><span class="line">    znum = abs( znum ).
</span><span class="line">  endif.
</span><span class="line">  if znum &gt;= 1000.
</span><span class="line">    zcstr = znum.
</span><span class="line">* 压缩字符串，去除前面的空格。
</span><span class="line">    condense zcstr no-gaps.
</span><span class="line">* 分离整数与小数，好单独处理整数。
</span><span class="line">    split zcstr at zflag into zcstr zcdec.
</span><span class="line">    zclen = strlen( zcstr ).
</span><span class="line">* 在循环中从右面在每三位的前面加上一个逗号。
</span><span class="line">    while zclen &gt; 3.
</span><span class="line">      n = zclen - 3.
</span><span class="line">      zctemp = zcstr+n(3).
</span><span class="line">      if not zcstr2 is initial.
</span><span class="line">        concatenate zctemp zcstr2 into zcstr2 separated by ','.
</span><span class="line">      else.
</span><span class="line">        zcstr2 = zctemp.
</span><span class="line">      endif.
</span><span class="line">      zclen = zclen - 3.
</span><span class="line">    endwhile.
</span><span class="line">* 将不剩下的不足三位数加到前面
</span><span class="line">    concatenate zcstr+0(zclen) zcstr2 into zcstr2 separated by ','.
</span><span class="line">    if zflag2 = 1.
</span><span class="line">      concatenate '-' zcstr2 into zcstr2.
</span><span class="line">    endif.
</span><span class="line">    clear zcstr.
</span><span class="line">* 将处理过的整数与小数连接起来。
</span><span class="line">    concatenate zcstr2 zcdec into zcstr separated by zflag.
</span><span class="line">* 将值返回
</span><span class="line">    zstr = zcstr.
</span><span class="line">  else.
</span><span class="line">    zstr = znum.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">endfunction.</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[数字检查 - 通过正则表达式]]></title>
    <link href="http://lomozm.github.io/blog/20131225/shu-zi-jian-cha-tong-guo-zheng-ze-biao-da-shi/"/>
    <updated>2013-12-25T11:50:56+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/shu-zi-jian-cha-tong-guo-zheng-ze-biao-da-shi</id>
    <content type="html"><![CDATA[<ol>
  <li>函数代码</li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class=""><span class="line">function z_is_number_check.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"本地接口：
</span><span class="line">*"  IMPORTING
</span><span class="line">*"     REFERENCE(I_STRING) TYPE  STRING
</span><span class="line">*"     REFERENCE(I_MARKER) TYPE  STRING
</span><span class="line">*"  EXPORTING
</span><span class="line">*"     REFERENCE(O_IS_NUM) TYPE  CHAR1
</span><span class="line">*"----------------------------------------------------------------------</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data: g_regex_ref   type ref to cl_abap_regex,
</span><span class="line">        g_matcher_ref type ref to cl_abap_matcher.
</span><span class="line">
</span><span class="line">  clear: o_is_num.
</span><span class="line">
</span><span class="line">  create object g_regex_ref
</span><span class="line">    exporting
</span><span class="line">      pattern = i_marker.
</span><span class="line">
</span><span class="line">  if i_string is not initial.
</span><span class="line">    g_matcher_ref = g_regex_ref-&gt;create_matcher( text = i_string ).
</span><span class="line">    o_is_num = g_matcher_ref-&gt;match( ).  " if matched the P_G_MATCH value is 'X', else value is space
</span><span class="line">  else.
</span><span class="line">    o_is_num = 'X'.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">  free g_regex_ref.
</span><span class="line">
</span><span class="line">endfunction.</span></code></pre></td></tr></table></div></figure></notextile></div>

<ol>
  <li>使用方法</li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data: i_str type string value '1000',
</span><span class="line">      i_mark type string value '\d+',
</span><span class="line">      o_num type char1.
</span><span class="line">     
</span><span class="line">call function 'ZG001_IS_NUMBER_CHECK'
</span><span class="line">  exporting
</span><span class="line">    i_string       = i_str
</span><span class="line">    i_marker       = i_mark
</span><span class="line"> IMPORTING
</span><span class="line">   O_IS_NUM       = o_num
</span><span class="line">          .</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[金额转大写英文]]></title>
    <link href="http://lomozm.github.io/blog/20131225/jin-e-zhuan-da-xie-ying-wen/"/>
    <updated>2013-12-25T11:46:25+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/jin-e-zhuan-da-xie-ying-wen</id>
    <content type="html"><![CDATA[
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">function zcurr2english.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"本地接口：
</span><span class="line">*"  IMPORTING
</span><span class="line">*"     REFERENCE(FROM_NUM) TYPE  DMBTR
</span><span class="line">*"  EXPORTING
</span><span class="line">*"     REFERENCE(TO_STR) TYPE  STRING
</span><span class="line">*"----------------------------------------------------------------------</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
<span class="line-number">229</span>
<span class="line-number">230</span>
<span class="line-number">231</span>
<span class="line-number">232</span>
<span class="line-number">233</span>
<span class="line-number">234</span>
<span class="line-number">235</span>
<span class="line-number">236</span>
<span class="line-number">237</span>
<span class="line-number">238</span>
<span class="line-number">239</span>
<span class="line-number">240</span>
<span class="line-number">241</span>
<span class="line-number">242</span>
<span class="line-number">243</span>
<span class="line-number">244</span>
<span class="line-number">245</span>
<span class="line-number">246</span>
<span class="line-number">247</span>
<span class="line-number">248</span>
<span class="line-number">249</span>
<span class="line-number">250</span>
<span class="line-number">251</span>
<span class="line-number">252</span>
<span class="line-number">253</span>
<span class="line-number">254</span>
<span class="line-number">255</span>
<span class="line-number">256</span>
<span class="line-number">257</span>
<span class="line-number">258</span>
<span class="line-number">259</span>
<span class="line-number">260</span>
<span class="line-number">261</span>
<span class="line-number">262</span>
<span class="line-number">263</span>
<span class="line-number">264</span>
<span class="line-number">265</span>
<span class="line-number">266</span>
<span class="line-number">267</span>
<span class="line-number">268</span>
<span class="line-number">269</span>
<span class="line-number">270</span>
<span class="line-number">271</span>
<span class="line-number">272</span>
<span class="line-number">273</span>
<span class="line-number">274</span>
<span class="line-number">275</span>
<span class="line-number">276</span>
<span class="line-number">277</span>
<span class="line-number">278</span>
<span class="line-number">279</span>
<span class="line-number">280</span>
<span class="line-number">281</span>
<span class="line-number">282</span>
<span class="line-number">283</span>
<span class="line-number">284</span>
<span class="line-number">285</span>
<span class="line-number">286</span>
<span class="line-number">287</span>
<span class="line-number">288</span>
<span class="line-number">289</span>
<span class="line-number">290</span>
<span class="line-number">291</span>
<span class="line-number">292</span>
<span class="line-number">293</span>
<span class="line-number">294</span>
<span class="line-number">295</span>
<span class="line-number">296</span>
<span class="line-number">297</span>
<span class="line-number">298</span>
<span class="line-number">299</span>
<span class="line-number">300</span>
<span class="line-number">301</span>
<span class="line-number">302</span>
<span class="line-number">303</span>
<span class="line-number">304</span>
<span class="line-number">305</span>
<span class="line-number">306</span>
<span class="line-number">307</span>
<span class="line-number">308</span>
<span class="line-number">309</span>
<span class="line-number">310</span>
<span class="line-number">311</span>
<span class="line-number">312</span>
<span class="line-number">313</span>
<span class="line-number">314</span>
<span class="line-number">315</span>
<span class="line-number">316</span>
<span class="line-number">317</span>
<span class="line-number">318</span>
<span class="line-number">319</span>
<span class="line-number">320</span>
<span class="line-number">321</span>
<span class="line-number">322</span>
<span class="line-number">323</span>
<span class="line-number">324</span>
<span class="line-number">325</span>
<span class="line-number">326</span>
<span class="line-number">327</span>
<span class="line-number">328</span>
<span class="line-number">329</span>
<span class="line-number">330</span>
<span class="line-number">331</span>
<span class="line-number">332</span>
<span class="line-number">333</span>
<span class="line-number">334</span>
<span class="line-number">335</span>
<span class="line-number">336</span>
<span class="line-number">337</span>
<span class="line-number">338</span>
<span class="line-number">339</span>
<span class="line-number">340</span>
<span class="line-number">341</span>
<span class="line-number">342</span>
<span class="line-number">343</span>
<span class="line-number">344</span>
<span class="line-number">345</span>
<span class="line-number">346</span>
<span class="line-number">347</span>
<span class="line-number">348</span>
<span class="line-number">349</span>
<span class="line-number">350</span>
<span class="line-number">351</span>
<span class="line-number">352</span>
<span class="line-number">353</span>
<span class="line-number">354</span>
<span class="line-number">355</span>
<span class="line-number">356</span>
<span class="line-number">357</span>
<span class="line-number">358</span>
<span class="line-number">359</span>
<span class="line-number">360</span>
<span class="line-number">361</span>
<span class="line-number">362</span>
<span class="line-number">363</span>
<span class="line-number">364</span>
<span class="line-number">365</span>
<span class="line-number">366</span>
<span class="line-number">367</span>
<span class="line-number">368</span>
<span class="line-number">369</span>
<span class="line-number">370</span>
<span class="line-number">371</span>
<span class="line-number">372</span>
<span class="line-number">373</span>
<span class="line-number">374</span>
<span class="line-number">375</span>
<span class="line-number">376</span>
<span class="line-number">377</span>
<span class="line-number">378</span>
<span class="line-number">379</span>
<span class="line-number">380</span>
<span class="line-number">381</span>
<span class="line-number">382</span>
<span class="line-number">383</span>
<span class="line-number">384</span>
<span class="line-number">385</span>
<span class="line-number">386</span>
<span class="line-number">387</span>
<span class="line-number">388</span>
<span class="line-number">389</span>
<span class="line-number">390</span>
<span class="line-number">391</span>
<span class="line-number">392</span>
<span class="line-number">393</span>
<span class="line-number">394</span>
<span class="line-number">395</span>
<span class="line-number">396</span>
<span class="line-number">397</span>
<span class="line-number">398</span>
<span class="line-number">399</span>
<span class="line-number">400</span>
<span class="line-number">401</span>
<span class="line-number">402</span>
<span class="line-number">403</span>
<span class="line-number">404</span>
<span class="line-number">405</span>
<span class="line-number">406</span>
<span class="line-number">407</span>
<span class="line-number">408</span>
<span class="line-number">409</span>
<span class="line-number">410</span>
<span class="line-number">411</span>
<span class="line-number">412</span>
<span class="line-number">413</span>
<span class="line-number">414</span>
<span class="line-number">415</span>
<span class="line-number">416</span>
<span class="line-number">417</span>
<span class="line-number">418</span>
<span class="line-number">419</span>
<span class="line-number">420</span>
<span class="line-number">421</span>
<span class="line-number">422</span>
<span class="line-number">423</span>
<span class="line-number">424</span>
<span class="line-number">425</span>
<span class="line-number">426</span>
<span class="line-number">427</span>
<span class="line-number">428</span>
<span class="line-number">429</span>
<span class="line-number">430</span>
<span class="line-number">431</span>
<span class="line-number">432</span>
<span class="line-number">433</span>
<span class="line-number">434</span>
<span class="line-number">435</span>
<span class="line-number">436</span>
<span class="line-number">437</span>
<span class="line-number">438</span>
<span class="line-number">439</span>
<span class="line-number">440</span>
<span class="line-number">441</span>
<span class="line-number">442</span>
<span class="line-number">443</span>
<span class="line-number">444</span>
<span class="line-number">445</span>
<span class="line-number">446</span>
<span class="line-number">447</span>
<span class="line-number">448</span>
<span class="line-number">449</span>
<span class="line-number">450</span>
<span class="line-number">451</span>
<span class="line-number">452</span>
<span class="line-number">453</span>
<span class="line-number">454</span>
<span class="line-number">455</span>
<span class="line-number">456</span>
<span class="line-number">457</span>
<span class="line-number">458</span>
<span class="line-number">459</span>
<span class="line-number">460</span>
<span class="line-number">461</span>
<span class="line-number">462</span>
<span class="line-number">463</span>
<span class="line-number">464</span>
<span class="line-number">465</span>
<span class="line-number">466</span>
<span class="line-number">467</span>
<span class="line-number">468</span>
<span class="line-number">469</span>
<span class="line-number">470</span>
<span class="line-number">471</span>
<span class="line-number">472</span>
<span class="line-number">473</span>
<span class="line-number">474</span>
<span class="line-number">475</span>
<span class="line-number">476</span>
<span class="line-number">477</span>
<span class="line-number">478</span>
<span class="line-number">479</span>
<span class="line-number">480</span>
<span class="line-number">481</span>
<span class="line-number">482</span>
<span class="line-number">483</span>
<span class="line-number">484</span>
<span class="line-number">485</span>
<span class="line-number">486</span>
<span class="line-number">487</span>
<span class="line-number">488</span>
<span class="line-number">489</span>
<span class="line-number">490</span>
<span class="line-number">491</span>
<span class="line-number">492</span>
<span class="line-number">493</span>
<span class="line-number">494</span>
<span class="line-number">495</span>
<span class="line-number">496</span>
<span class="line-number">497</span>
<span class="line-number">498</span>
<span class="line-number">499</span>
<span class="line-number">500</span>
<span class="line-number">501</span>
<span class="line-number">502</span>
<span class="line-number">503</span>
<span class="line-number">504</span>
<span class="line-number">505</span>
<span class="line-number">506</span>
<span class="line-number">507</span>
<span class="line-number">508</span>
<span class="line-number">509</span>
<span class="line-number">510</span>
<span class="line-number">511</span>
<span class="line-number">512</span>
<span class="line-number">513</span>
<span class="line-number">514</span>
<span class="line-number">515</span>
<span class="line-number">516</span>
<span class="line-number">517</span>
<span class="line-number">518</span>
<span class="line-number">519</span>
<span class="line-number">520</span>
<span class="line-number">521</span>
<span class="line-number">522</span>
<span class="line-number">523</span>
<span class="line-number">524</span>
<span class="line-number">525</span>
<span class="line-number">526</span>
<span class="line-number">527</span>
<span class="line-number">528</span>
<span class="line-number">529</span>
<span class="line-number">530</span>
<span class="line-number">531</span>
<span class="line-number">532</span>
<span class="line-number">533</span>
<span class="line-number">534</span>
<span class="line-number">535</span>
<span class="line-number">536</span>
<span class="line-number">537</span>
<span class="line-number">538</span>
<span class="line-number">539</span>
<span class="line-number">540</span>
<span class="line-number">541</span>
<span class="line-number">542</span>
<span class="line-number">543</span>
<span class="line-number">544</span>
<span class="line-number">545</span>
<span class="line-number">546</span>
<span class="line-number">547</span>
<span class="line-number">548</span>
<span class="line-number">549</span>
<span class="line-number">550</span>
<span class="line-number">551</span>
<span class="line-number">552</span>
<span class="line-number">553</span>
<span class="line-number">554</span>
<span class="line-number">555</span>
<span class="line-number">556</span>
<span class="line-number">557</span>
<span class="line-number">558</span>
<span class="line-number">559</span>
<span class="line-number">560</span>
<span class="line-number">561</span>
<span class="line-number">562</span>
<span class="line-number">563</span>
<span class="line-number">564</span>
<span class="line-number">565</span>
<span class="line-number">566</span>
<span class="line-number">567</span>
<span class="line-number">568</span>
<span class="line-number">569</span>
<span class="line-number">570</span>
<span class="line-number">571</span>
<span class="line-number">572</span>
<span class="line-number">573</span>
<span class="line-number">574</span>
<span class="line-number">575</span>
<span class="line-number">576</span>
<span class="line-number">577</span>
<span class="line-number">578</span>
<span class="line-number">579</span>
<span class="line-number">580</span>
<span class="line-number">581</span>
<span class="line-number">582</span>
<span class="line-number">583</span>
<span class="line-number">584</span>
<span class="line-number">585</span>
<span class="line-number">586</span>
<span class="line-number">587</span>
<span class="line-number">588</span>
<span class="line-number">589</span>
<span class="line-number">590</span>
<span class="line-number">591</span>
<span class="line-number">592</span>
<span class="line-number">593</span>
<span class="line-number">594</span>
<span class="line-number">595</span>
<span class="line-number">596</span>
<span class="line-number">597</span>
<span class="line-number">598</span>
<span class="line-number">599</span>
<span class="line-number">600</span>
<span class="line-number">601</span>
<span class="line-number">602</span>
<span class="line-number">603</span>
<span class="line-number">604</span>
<span class="line-number">605</span>
<span class="line-number">606</span>
<span class="line-number">607</span>
<span class="line-number">608</span>
<span class="line-number">609</span>
<span class="line-number">610</span>
<span class="line-number">611</span>
<span class="line-number">612</span>
<span class="line-number">613</span>
<span class="line-number">614</span>
<span class="line-number">615</span>
<span class="line-number">616</span>
<span class="line-number">617</span>
<span class="line-number">618</span>
<span class="line-number">619</span>
<span class="line-number">620</span>
<span class="line-number">621</span>
<span class="line-number">622</span>
<span class="line-number">623</span>
<span class="line-number">624</span>
<span class="line-number">625</span>
<span class="line-number">626</span>
<span class="line-number">627</span>
<span class="line-number">628</span>
<span class="line-number">629</span>
<span class="line-number">630</span>
<span class="line-number">631</span>
<span class="line-number">632</span>
<span class="line-number">633</span>
<span class="line-number">634</span>
<span class="line-number">635</span>
<span class="line-number">636</span>
<span class="line-number">637</span>
<span class="line-number">638</span>
<span class="line-number">639</span>
<span class="line-number">640</span>
<span class="line-number">641</span>
<span class="line-number">642</span>
<span class="line-number">643</span>
<span class="line-number">644</span>
<span class="line-number">645</span>
<span class="line-number">646</span>
<span class="line-number">647</span>
<span class="line-number">648</span>
<span class="line-number">649</span>
<span class="line-number">650</span>
<span class="line-number">651</span>
<span class="line-number">652</span>
<span class="line-number">653</span>
<span class="line-number">654</span>
<span class="line-number">655</span>
<span class="line-number">656</span>
<span class="line-number">657</span>
<span class="line-number">658</span>
<span class="line-number">659</span>
<span class="line-number">660</span>
<span class="line-number">661</span>
<span class="line-number">662</span>
<span class="line-number">663</span>
<span class="line-number">664</span>
<span class="line-number">665</span>
<span class="line-number">666</span>
<span class="line-number">667</span>
<span class="line-number">668</span>
<span class="line-number">669</span>
<span class="line-number">670</span>
<span class="line-number">671</span>
<span class="line-number">672</span>
<span class="line-number">673</span>
<span class="line-number">674</span>
<span class="line-number">675</span>
<span class="line-number">676</span>
<span class="line-number">677</span>
<span class="line-number">678</span>
<span class="line-number">679</span>
<span class="line-number">680</span>
<span class="line-number">681</span>
<span class="line-number">682</span>
<span class="line-number">683</span>
<span class="line-number">684</span>
<span class="line-number">685</span>
<span class="line-number">686</span>
<span class="line-number">687</span>
<span class="line-number">688</span>
<span class="line-number">689</span>
<span class="line-number">690</span>
<span class="line-number">691</span>
<span class="line-number">692</span>
<span class="line-number">693</span>
<span class="line-number">694</span>
<span class="line-number">695</span>
<span class="line-number">696</span>
<span class="line-number">697</span>
<span class="line-number">698</span>
<span class="line-number">699</span>
<span class="line-number">700</span>
<span class="line-number">701</span>
<span class="line-number">702</span>
<span class="line-number">703</span>
<span class="line-number">704</span>
<span class="line-number">705</span>
<span class="line-number">706</span>
<span class="line-number">707</span>
<span class="line-number">708</span>
<span class="line-number">709</span>
<span class="line-number">710</span>
<span class="line-number">711</span>
<span class="line-number">712</span>
<span class="line-number">713</span>
<span class="line-number">714</span>
<span class="line-number">715</span>
<span class="line-number">716</span>
<span class="line-number">717</span>
<span class="line-number">718</span>
<span class="line-number">719</span>
<span class="line-number">720</span>
<span class="line-number">721</span>
<span class="line-number">722</span>
<span class="line-number">723</span>
<span class="line-number">724</span>
<span class="line-number">725</span>
<span class="line-number">726</span>
<span class="line-number">727</span>
<span class="line-number">728</span>
<span class="line-number">729</span>
<span class="line-number">730</span>
<span class="line-number">731</span>
<span class="line-number">732</span>
<span class="line-number">733</span>
<span class="line-number">734</span>
<span class="line-number">735</span>
<span class="line-number">736</span>
<span class="line-number">737</span>
<span class="line-number">738</span>
<span class="line-number">739</span>
<span class="line-number">740</span>
<span class="line-number">741</span>
<span class="line-number">742</span>
<span class="line-number">743</span>
<span class="line-number">744</span>
<span class="line-number">745</span>
<span class="line-number">746</span>
<span class="line-number">747</span>
<span class="line-number">748</span>
<span class="line-number">749</span>
<span class="line-number">750</span>
<span class="line-number">751</span>
<span class="line-number">752</span>
<span class="line-number">753</span>
<span class="line-number">754</span>
<span class="line-number">755</span>
<span class="line-number">756</span>
<span class="line-number">757</span>
<span class="line-number">758</span>
<span class="line-number">759</span>
<span class="line-number">760</span>
<span class="line-number">761</span>
<span class="line-number">762</span>
<span class="line-number">763</span>
<span class="line-number">764</span>
<span class="line-number">765</span>
<span class="line-number">766</span>
<span class="line-number">767</span>
<span class="line-number">768</span>
<span class="line-number">769</span>
<span class="line-number">770</span>
<span class="line-number">771</span>
<span class="line-number">772</span>
<span class="line-number">773</span>
<span class="line-number">774</span>
<span class="line-number">775</span>
<span class="line-number">776</span>
<span class="line-number">777</span>
<span class="line-number">778</span>
<span class="line-number">779</span>
<span class="line-number">780</span>
<span class="line-number">781</span>
<span class="line-number">782</span>
<span class="line-number">783</span>
<span class="line-number">784</span>
<span class="line-number">785</span>
<span class="line-number">786</span>
<span class="line-number">787</span>
<span class="line-number">788</span>
<span class="line-number">789</span>
<span class="line-number">790</span>
<span class="line-number">791</span>
<span class="line-number">792</span>
<span class="line-number">793</span>
<span class="line-number">794</span>
<span class="line-number">795</span>
<span class="line-number">796</span>
<span class="line-number">797</span>
<span class="line-number">798</span>
<span class="line-number">799</span>
<span class="line-number">800</span>
<span class="line-number">801</span>
<span class="line-number">802</span>
<span class="line-number">803</span>
<span class="line-number">804</span>
<span class="line-number">805</span>
<span class="line-number">806</span>
<span class="line-number">807</span>
<span class="line-number">808</span>
<span class="line-number">809</span>
<span class="line-number">810</span>
<span class="line-number">811</span>
<span class="line-number">812</span>
<span class="line-number">813</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data num(16) type p decimals 0 .
</span><span class="line">  data pnum(2) type i.
</span><span class="line">
</span><span class="line">  data temp1 type i .
</span><span class="line">  data temp2 type i .
</span><span class="line">  data temp3 type i .
</span><span class="line">  data temp4 type i .
</span><span class="line">
</span><span class="line">  data tempq type i .
</span><span class="line">  data tempw type i .
</span><span class="line">  data tempe type i .
</span><span class="line">  data tempr type i .
</span><span class="line">
</span><span class="line">  data temp(16) type i.
</span><span class="line">  data tempii type i .
</span><span class="line">
</span><span class="line">  data ls_return type string.
</span><span class="line">  data ls_str type string.
</span><span class="line">  data moff type i value 0.
</span><span class="line">****
</span><span class="line">  temp = from_num.
</span><span class="line">
</span><span class="line">
</span><span class="line">  ls_str = from_num.
</span><span class="line">  find '.' in ls_str match offset moff.
</span><span class="line">
</span><span class="line">  if moff &gt; 0.
</span><span class="line">    num = ls_str+0(moff).
</span><span class="line">    moff = moff + 1.
</span><span class="line">    ls_str = ls_str+moff(2).
</span><span class="line">    pnum = ls_str.
</span><span class="line">  else.
</span><span class="line">    num = temp.
</span><span class="line">    pnum = 0.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">  if from_num &lt; 0.
</span><span class="line">    ls_return = 'Negative'.
</span><span class="line">  else.
</span><span class="line">    ls_return = ''.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">  num = abs( num ).
</span><span class="line">
</span><span class="line">****
</span><span class="line">*************************************************
</span><span class="line">  temp = num .
</span><span class="line">
</span><span class="line">  temp1 = temp div 1000000000 .
</span><span class="line">  temp = temp mod 1000000000 .
</span><span class="line">
</span><span class="line">  temp2 = temp div 1000000 .
</span><span class="line">  temp = temp mod 1000000 .
</span><span class="line">
</span><span class="line">  temp3 = temp div 1000 .
</span><span class="line">  temp = temp mod 1000 .
</span><span class="line">
</span><span class="line">  temp4 = temp .
</span><span class="line">********************************************************
</span><span class="line">  if temp1 &lt;&gt; 0 .
</span><span class="line">    tempii = temp1 .
</span><span class="line">
</span><span class="line">    tempw = tempii div 100 .
</span><span class="line">    tempii = tempii mod 100 .
</span><span class="line">
</span><span class="line">    tempe = tempii div 10 .
</span><span class="line">    tempii = tempii mod 10 .
</span><span class="line">
</span><span class="line">    tempr = tempii .
</span><span class="line">*********************
</span><span class="line">    if tempw &lt;&gt; 0 .
</span><span class="line">      tempii = tempw .
</span><span class="line">      case tempii.
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">      concatenate ls_return 'Hundred' into ls_return separated by ' '.    "WRITE 'Hundred' .
</span><span class="line">    endif .
</span><span class="line">*********************
</span><span class="line">
</span><span class="line">    tempii = tempe .
</span><span class="line">    case tempii.
</span><span class="line">      when 1 .
</span><span class="line">        tempii = temp1 mod 100.
</span><span class="line">
</span><span class="line">        case tempii.
</span><span class="line">          when 11 .
</span><span class="line">            concatenate ls_return 'Eleven' into ls_return separated by ' '.    "WRITE 'Eleven' .
</span><span class="line">          when 12 .
</span><span class="line">            concatenate ls_return 'Twelve' into ls_return separated by ' '.    "WRITE 'Twelve' .
</span><span class="line">          when 13 .
</span><span class="line">            concatenate ls_return 'Thirteen' into ls_return separated by ' '.    "WRITE 'Thirteen' .
</span><span class="line">          when 14 .
</span><span class="line">            concatenate ls_return 'Fourteen' into ls_return separated by ' '.    "WRITE 'Fourteen' .
</span><span class="line">          when 15 .
</span><span class="line">            concatenate ls_return 'Fifteen' into ls_return separated by ' '.    "WRITE 'Fifteen' .
</span><span class="line">          when 16 .
</span><span class="line">            concatenate ls_return 'Sixteen' into ls_return separated by ' '.    "WRITE 'Sixteen' .
</span><span class="line">          when 17 .
</span><span class="line">            concatenate ls_return 'Seventeen' into ls_return separated by ' '.    "WRITE 'Seventeen' .
</span><span class="line">          when 18 .
</span><span class="line">            concatenate ls_return 'Eighteen' into ls_return separated by ' '.    "WRITE 'Eighteen' .
</span><span class="line">          when 19 .
</span><span class="line">            concatenate ls_return 'Nineteen' into ls_return separated by ' '.    "WRITE 'Nineteen' .
</span><span class="line">        endcase.
</span><span class="line">        tempr = 0.  "leotian
</span><span class="line">      when 0 .
</span><span class="line">
</span><span class="line">        if tempr &lt;&gt; 0 .
</span><span class="line">          if ls_return &lt;&gt; ''.
</span><span class="line">            concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">          endif.
</span><span class="line">          tempii = tempr.
</span><span class="line">          case tempii.
</span><span class="line">
</span><span class="line">            when 1 .
</span><span class="line">              concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">            when 2 .
</span><span class="line">              concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">            when 3 .
</span><span class="line">              concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">            when 4 .
</span><span class="line">              concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">            when 5 .
</span><span class="line">              concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">            when 6 .
</span><span class="line">              concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">            when 7 .
</span><span class="line">              concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">            when 8 .
</span><span class="line">              concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">            when 9 .
</span><span class="line">              concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">          endcase.
</span><span class="line">
</span><span class="line">        endif .
</span><span class="line">        tempe = 0.  "leotian
</span><span class="line">      when 2 .
</span><span class="line">        concatenate ls_return 'Twenty' into ls_return separated by ' '.    "WRITE 'Twenty' .
</span><span class="line">      when 3 .
</span><span class="line">        concatenate ls_return 'Thirty' into ls_return separated by ' '.    "WRITE 'Thirty' .
</span><span class="line">      when 4 .
</span><span class="line">        concatenate ls_return 'Fourty' into ls_return separated by ' '.    "WRITE 'Fourty' .
</span><span class="line">      when 5 .
</span><span class="line">        concatenate ls_return 'Fifty' into ls_return separated by ' '.    "WRITE 'Fifty' .
</span><span class="line">      when 6 .
</span><span class="line">        concatenate ls_return 'Sixty' into ls_return separated by ' '.    "WRITE 'Sixty' .
</span><span class="line">      when 7 .
</span><span class="line">        concatenate ls_return 'Seventy' into ls_return separated by ' '.    "WRITE 'Seventy' .
</span><span class="line">      when 8 .
</span><span class="line">        concatenate ls_return 'Eighty' into ls_return separated by ' '.    "WRITE 'Eighty' .
</span><span class="line">      when 9 .
</span><span class="line">        concatenate ls_return 'Ninty' into ls_return separated by ' '.    "WRITE 'Ninty' .
</span><span class="line">    endcase.
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    if tempr &lt;&gt; 0 and tempe &lt;&gt; 0.
</span><span class="line">      tempii = tempr .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">
</span><span class="line">    endif .
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">
</span><span class="line">    concatenate ls_return 'Billion' into ls_return separated by ' '.    "WRITE 'billion' .
</span><span class="line">    "CONCATENATE ls_return 'One' INTO ls_return SEPARATED BY ' '.    "WRITE / .
</span><span class="line">  endif .
</span><span class="line">
</span><span class="line">***************************************************************
</span><span class="line">  if temp2 &lt;&gt; 0 .
</span><span class="line">*    IF ls_return &lt;&gt; ''.
</span><span class="line">*      CONCATENATE ls_return 'And' INTO ls_return SEPARATED BY ' '.    "WRITE 'And'.
</span><span class="line">*    ENDIF.
</span><span class="line">    tempii = temp2 .
</span><span class="line">
</span><span class="line">    tempw = tempii div 100 .
</span><span class="line">    tempii = tempii mod 100 .
</span><span class="line">
</span><span class="line">    tempe = tempii div 10 .
</span><span class="line">    tempii = tempii mod 10 .
</span><span class="line">
</span><span class="line">    tempr = tempii .
</span><span class="line">*********************
</span><span class="line">    if tempw &lt;&gt; 0 .
</span><span class="line">      tempii = tempw .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">      concatenate ls_return 'Hundred' into ls_return separated by ' '.    "WRITE 'Hundred' .
</span><span class="line">    endif .
</span><span class="line">*********************
</span><span class="line">
</span><span class="line">    tempii = tempe .
</span><span class="line">    case tempii.
</span><span class="line">      when 1 .
</span><span class="line">        tempii = temp2 mod 100 .
</span><span class="line">
</span><span class="line">        case tempii.
</span><span class="line">
</span><span class="line">          when 11 .
</span><span class="line">            concatenate ls_return 'Eleven' into ls_return separated by ' '.    "WRITE 'Eleven' .
</span><span class="line">          when 12 .
</span><span class="line">            concatenate ls_return 'Twelve' into ls_return separated by ' '.    "WRITE 'Twelve' .
</span><span class="line">          when 13 .
</span><span class="line">            concatenate ls_return 'Thirteen' into ls_return separated by ' '.    "WRITE 'Thirteen' .
</span><span class="line">          when 14 .
</span><span class="line">            concatenate ls_return 'Fourteen' into ls_return separated by ' '.    "WRITE 'Fourteen' .
</span><span class="line">          when 15 .
</span><span class="line">            concatenate ls_return 'Fifteen' into ls_return separated by ' '.    "WRITE 'Fifteen' .
</span><span class="line">          when 16 .
</span><span class="line">            concatenate ls_return 'Sixteen' into ls_return separated by ' '.    "WRITE 'Sixteen' .
</span><span class="line">          when 17 .
</span><span class="line">            concatenate ls_return 'Seventeen' into ls_return separated by ' '.    "WRITE 'Seventeen' .
</span><span class="line">          when 18 .
</span><span class="line">            concatenate ls_return 'Eighteen' into ls_return separated by ' '.    "WRITE 'Eighteen' .
</span><span class="line">          when 19 .
</span><span class="line">            concatenate ls_return 'Nineteen' into ls_return separated by ' '.    "WRITE 'Nineteen' .
</span><span class="line">
</span><span class="line">        endcase.
</span><span class="line">        tempr = 0.  "leotian
</span><span class="line">      when 0 .
</span><span class="line">
</span><span class="line">        if tempr &lt;&gt; 0 .
</span><span class="line">          if ls_return &lt;&gt; ''.
</span><span class="line">            concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">          endif.
</span><span class="line">          tempii = tempr.
</span><span class="line">          case tempii.
</span><span class="line">            when 1 .
</span><span class="line">              concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">            when 2 .
</span><span class="line">              concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">            when 3 .
</span><span class="line">              concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">            when 4 .
</span><span class="line">              concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">            when 5 .
</span><span class="line">              concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">            when 6 .
</span><span class="line">              concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">            when 7 .
</span><span class="line">              concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">            when 8 .
</span><span class="line">              concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">            when 9 .
</span><span class="line">              concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">          endcase.
</span><span class="line">
</span><span class="line">        endif .
</span><span class="line">        tempe = 0.  "leotian
</span><span class="line">      when 2 .
</span><span class="line">        concatenate ls_return 'Twenty' into ls_return separated by ' '.    "WRITE 'Twenty' .
</span><span class="line">      when 3 .
</span><span class="line">        concatenate ls_return 'Thirty' into ls_return separated by ' '.    "WRITE 'Thirty' .
</span><span class="line">      when 4 .
</span><span class="line">        concatenate ls_return 'Fourty' into ls_return separated by ' '.    "WRITE 'Fourty' .
</span><span class="line">      when 5 .
</span><span class="line">        concatenate ls_return 'Fifty' into ls_return separated by ' '.    "WRITE 'Fifty' .
</span><span class="line">      when 6 .
</span><span class="line">        concatenate ls_return 'Sixty' into ls_return separated by ' '.    "WRITE 'Sixty' .
</span><span class="line">      when 7 .
</span><span class="line">        concatenate ls_return 'Seventy' into ls_return separated by ' '.    "WRITE 'Seventy' .
</span><span class="line">      when 8 .
</span><span class="line">        concatenate ls_return 'Eighty' into ls_return separated by ' '.    "WRITE 'Eighty' .
</span><span class="line">      when 9 .
</span><span class="line">        concatenate ls_return 'Ninty' into ls_return separated by ' '.    "WRITE 'Ninty' .
</span><span class="line">    endcase.
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    if tempr &lt;&gt; 0 and tempe &lt;&gt; 0.
</span><span class="line">      tempii = tempr .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">
</span><span class="line">    endif .
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    concatenate ls_return 'Million' into ls_return separated by ' '.    "WRITE 'million' .
</span><span class="line">    "CONCATENATE ls_return 'One' INTO ls_return SEPARATED BY ' '.    "WRITE / .
</span><span class="line">  endif .
</span><span class="line">
</span><span class="line">***************************************************************
</span><span class="line">  if temp3 &lt;&gt; 0 .
</span><span class="line">*    IF ls_return &lt;&gt; ''.
</span><span class="line">*      CONCATENATE ls_return 'And' INTO ls_return SEPARATED BY ' '.    "WRITE 'And'.
</span><span class="line">*    ENDIF.
</span><span class="line">    tempii = temp3 .
</span><span class="line">
</span><span class="line">    tempw = tempii div 100 .
</span><span class="line">    tempii = tempii mod 100 .
</span><span class="line">
</span><span class="line">    tempe = tempii div 10 .
</span><span class="line">    tempii = tempii mod 10 .
</span><span class="line">
</span><span class="line">    tempr = tempii .
</span><span class="line">*********************
</span><span class="line">    if tempw &lt;&gt; 0 .
</span><span class="line">      tempii = tempw .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">      concatenate ls_return 'Hundred' into ls_return separated by ' '.    "WRITE 'Hundred' .
</span><span class="line">    endif .
</span><span class="line">*********************
</span><span class="line">
</span><span class="line">    tempii = tempe .
</span><span class="line">    case tempii.
</span><span class="line">      when 1 .
</span><span class="line">        tempii = temp3 mod 100 .
</span><span class="line">
</span><span class="line">        case tempii.
</span><span class="line">
</span><span class="line">          when 11 .
</span><span class="line">            concatenate ls_return 'Eleven' into ls_return separated by ' '.    "WRITE 'Eleven' .
</span><span class="line">          when 12 .
</span><span class="line">            concatenate ls_return 'Twelve' into ls_return separated by ' '.    "WRITE 'Twelve' .
</span><span class="line">          when 13 .
</span><span class="line">            concatenate ls_return 'Thirteen' into ls_return separated by ' '.    "WRITE 'Thirteen' .
</span><span class="line">          when 14 .
</span><span class="line">            concatenate ls_return 'Fourteen' into ls_return separated by ' '.    "WRITE 'Fourteen' .
</span><span class="line">          when 15 .
</span><span class="line">            concatenate ls_return 'Fifteen' into ls_return separated by ' '.    "WRITE 'Fifteen' .
</span><span class="line">          when 16 .
</span><span class="line">            concatenate ls_return 'Sixteen' into ls_return separated by ' '.    "WRITE 'Sixteen' .
</span><span class="line">          when 17 .
</span><span class="line">            concatenate ls_return 'Seventeen' into ls_return separated by ' '.    "WRITE 'Seventeen' .
</span><span class="line">          when 18 .
</span><span class="line">            concatenate ls_return 'Eighteen' into ls_return separated by ' '.    "WRITE 'Eighteen' .
</span><span class="line">          when 19 .
</span><span class="line">            concatenate ls_return 'Nineteen' into ls_return separated by ' '.    "WRITE 'Nineteen' .
</span><span class="line">
</span><span class="line">        endcase.
</span><span class="line">        tempr = 0.  "leotian
</span><span class="line">      when 0 .
</span><span class="line">
</span><span class="line">        if tempr &lt;&gt; 0 .
</span><span class="line">          if ls_return &lt;&gt; ''.
</span><span class="line">            concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">          endif.
</span><span class="line">          tempii = tempr.
</span><span class="line">          case tempii.
</span><span class="line">
</span><span class="line">            when 1 .
</span><span class="line">              concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">            when 2 .
</span><span class="line">              concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">            when 3 .
</span><span class="line">              concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">            when 4 .
</span><span class="line">              concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">            when 5 .
</span><span class="line">              concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">            when 6 .
</span><span class="line">              concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">            when 7 .
</span><span class="line">              concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">            when 8 .
</span><span class="line">              concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">            when 9 .
</span><span class="line">              concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">          endcase.
</span><span class="line">
</span><span class="line">        endif .
</span><span class="line">        tempe = 0.  "leotian
</span><span class="line">      when 2 .
</span><span class="line">        concatenate ls_return 'Twenty' into ls_return separated by ' '.    "WRITE 'Twenty' .
</span><span class="line">      when 3 .
</span><span class="line">        concatenate ls_return 'Thirty' into ls_return separated by ' '.    "WRITE 'Thirty' .
</span><span class="line">      when 4 .
</span><span class="line">        concatenate ls_return 'Fourty' into ls_return separated by ' '.    "WRITE 'Fourty' .
</span><span class="line">      when 5 .
</span><span class="line">        concatenate ls_return 'Fifty' into ls_return separated by ' '.    "WRITE 'Fifty' .
</span><span class="line">      when 6 .
</span><span class="line">        concatenate ls_return 'Sixty' into ls_return separated by ' '.    "WRITE 'Sixty' .
</span><span class="line">      when 7 .
</span><span class="line">        concatenate ls_return 'Seventy' into ls_return separated by ' '.    "WRITE 'Seventy' .
</span><span class="line">      when 8 .
</span><span class="line">        concatenate ls_return 'Eighty' into ls_return separated by ' '.    "WRITE 'Eighty' .
</span><span class="line">      when 9 .
</span><span class="line">        concatenate ls_return 'Ninty' into ls_return separated by ' '.    "WRITE 'Ninty' .
</span><span class="line">    endcase.
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    if tempr &lt;&gt; 0 and tempe &lt;&gt; 0.
</span><span class="line">      tempii = tempr .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">
</span><span class="line">    endif .
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    concatenate ls_return 'Thousand' into ls_return separated by ' '.    "WRITE 'thousAnd' .
</span><span class="line">
</span><span class="line">  endif .
</span><span class="line">
</span><span class="line">***************************************************************
</span><span class="line">
</span><span class="line">  if temp4 &lt;&gt; 0 .
</span><span class="line">*    IF ls_return &lt;&gt; ''.
</span><span class="line">*      CONCATENATE ls_return 'And' INTO ls_return SEPARATED BY ' '.    "WRITE 'And'.
</span><span class="line">*    ENDIF.
</span><span class="line">    tempii = temp4 .
</span><span class="line">
</span><span class="line">    tempw = tempii div 100 .
</span><span class="line">    tempii = tempii mod 100 .
</span><span class="line">
</span><span class="line">    tempe = tempii div 10 .
</span><span class="line">    tempii = tempii mod 10 .
</span><span class="line">
</span><span class="line">    tempr = tempii .
</span><span class="line">*********************
</span><span class="line">    if tempw &lt;&gt; 0 .
</span><span class="line">      tempii = tempw .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">      concatenate ls_return 'Hundred' into ls_return separated by ' '.    "WRITE 'Hundred' .
</span><span class="line">    endif .
</span><span class="line">*********************
</span><span class="line">
</span><span class="line">    tempii = tempe .
</span><span class="line">    case tempii.
</span><span class="line">      when 1 .
</span><span class="line">        tempii = temp4 mod 100.
</span><span class="line">
</span><span class="line">        case tempii.
</span><span class="line">          when 10.
</span><span class="line">            concatenate ls_return 'Ten' into ls_return separated by ' '.    "WRITE 'Eleven'
</span><span class="line">          when 11 .
</span><span class="line">            concatenate ls_return 'Eleven' into ls_return separated by ' '.    "WRITE 'Eleven' .
</span><span class="line">          when 12 .
</span><span class="line">            concatenate ls_return 'Twelve' into ls_return separated by ' '.    "WRITE 'Twelve' .
</span><span class="line">          when 13 .
</span><span class="line">            concatenate ls_return 'Thirteen' into ls_return separated by ' '.    "WRITE 'Thirteen' .
</span><span class="line">          when 14 .
</span><span class="line">            concatenate ls_return 'Fourteen' into ls_return separated by ' '.    "WRITE 'Fourteen' .
</span><span class="line">          when 15 .
</span><span class="line">            concatenate ls_return 'Fifteen' into ls_return separated by ' '.    "WRITE 'Fifteen' .
</span><span class="line">          when 16 .
</span><span class="line">            concatenate ls_return 'Sixteen' into ls_return separated by ' '.    "WRITE 'Sixteen' .
</span><span class="line">          when 17 .
</span><span class="line">            concatenate ls_return 'Seventeen' into ls_return separated by ' '.    "WRITE 'Seventeen' .
</span><span class="line">          when 18 .
</span><span class="line">            concatenate ls_return 'Eighteen' into ls_return separated by ' '.    "WRITE 'Eighteen' .
</span><span class="line">          when 19 .
</span><span class="line">            concatenate ls_return 'Nineteen' into ls_return separated by ' '.    "WRITE 'Nineteen' .
</span><span class="line">
</span><span class="line">        endcase.
</span><span class="line">        tempr = 0.  "leotian
</span><span class="line">      when 0 .
</span><span class="line">
</span><span class="line">        if tempr &lt;&gt; 0 .
</span><span class="line">          if ls_return &lt;&gt; ''.
</span><span class="line">            concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">          endif.
</span><span class="line">          tempii = tempr.
</span><span class="line">          case tempii.
</span><span class="line">
</span><span class="line">            when 1 .
</span><span class="line">              concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">            when 2 .
</span><span class="line">              concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">            when 3 .
</span><span class="line">              concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">            when 4 .
</span><span class="line">              concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">            when 5 .
</span><span class="line">              concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">            when 6 .
</span><span class="line">              concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">            when 7 .
</span><span class="line">              concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">            when 8 .
</span><span class="line">              concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">            when 9 .
</span><span class="line">              concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">          endcase.
</span><span class="line">
</span><span class="line">        endif .
</span><span class="line">        tempe = 0.  "leotian
</span><span class="line">      when 2 .
</span><span class="line">        concatenate ls_return 'Twenty' into ls_return separated by ' '.    "WRITE 'Twenty' .
</span><span class="line">      when 3 .
</span><span class="line">        concatenate ls_return 'Thirty' into ls_return separated by ' '.    "WRITE 'Thirty' .
</span><span class="line">      when 4 .
</span><span class="line">        concatenate ls_return 'Fourty' into ls_return separated by ' '.    "WRITE 'Fourty' .
</span><span class="line">      when 5 .
</span><span class="line">        concatenate ls_return 'Fifty' into ls_return separated by ' '.    "WRITE 'Fifty' .
</span><span class="line">      when 6 .
</span><span class="line">        concatenate ls_return 'Sixty' into ls_return separated by ' '.    "WRITE 'Sixty' .
</span><span class="line">      when 7 .
</span><span class="line">        concatenate ls_return 'Seventy' into ls_return separated by ' '.    "WRITE 'Seventy' .
</span><span class="line">      when 8 .
</span><span class="line">        concatenate ls_return 'Eighty' into ls_return separated by ' '.    "WRITE 'Eighty' .
</span><span class="line">      when 9 .
</span><span class="line">        concatenate ls_return 'Ninty' into ls_return separated by ' '.    "WRITE 'Ninty' .
</span><span class="line">    endcase.
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    if tempr &lt;&gt; 0 and tempe &lt;&gt; 0.
</span><span class="line">      tempii = tempr .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">
</span><span class="line">    endif .
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">
</span><span class="line">  endif .
</span><span class="line">
</span><span class="line">  if ls_return &lt;&gt; ''.
</span><span class="line">    concatenate ls_return 'Dollars' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">  endif.
</span><span class="line">***********************
</span><span class="line">  "处理小数
</span><span class="line">  if pnum &gt; 0.
</span><span class="line">    tempii = pnum .
</span><span class="line">
</span><span class="line">    tempw = tempii div 100 .
</span><span class="line">    tempii = tempii mod 100 .
</span><span class="line">
</span><span class="line">    tempe = tempii div 10 .
</span><span class="line">    tempii = tempii mod 10 .
</span><span class="line">
</span><span class="line">    tempr = tempii .
</span><span class="line">*********************
</span><span class="line">    if tempw &lt;&gt; 0 .
</span><span class="line">      tempii = tempw .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">      concatenate ls_return 'Hundred' into ls_return separated by ' '.    "WRITE 'Hundred' .
</span><span class="line">    endif .
</span><span class="line">*********************
</span><span class="line">
</span><span class="line">    tempii = tempe .
</span><span class="line">    case tempii.
</span><span class="line">      when 1 .
</span><span class="line">        tempii = pnum mod 100.
</span><span class="line">        concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">        case tempii.
</span><span class="line">
</span><span class="line">          when 11 .
</span><span class="line">            concatenate ls_return 'Eleven' into ls_return separated by ' '.    "WRITE 'Eleven' .
</span><span class="line">          when 12 .
</span><span class="line">            concatenate ls_return 'Twelve' into ls_return separated by ' '.    "WRITE 'Twelve' .
</span><span class="line">          when 13 .
</span><span class="line">            concatenate ls_return 'Thirteen' into ls_return separated by ' '.    "WRITE 'Thirteen' .
</span><span class="line">          when 14 .
</span><span class="line">            concatenate ls_return 'Fourteen' into ls_return separated by ' '.    "WRITE 'Fourteen' .
</span><span class="line">          when 15 .
</span><span class="line">            concatenate ls_return 'Fifteen' into ls_return separated by ' '.    "WRITE 'Fifteen' .
</span><span class="line">          when 16 .
</span><span class="line">            concatenate ls_return 'Sixteen' into ls_return separated by ' '.    "WRITE 'Sixteen' .
</span><span class="line">          when 17 .
</span><span class="line">            concatenate ls_return 'Seventeen' into ls_return separated by ' '.    "WRITE 'Seventeen' .
</span><span class="line">          when 18 .
</span><span class="line">            concatenate ls_return 'Eighteen' into ls_return separated by ' '.    "WRITE 'Eighteen' .
</span><span class="line">          when 19 .
</span><span class="line">            concatenate ls_return 'Nineteen' into ls_return separated by ' '.    "WRITE 'Nineteen' .
</span><span class="line">
</span><span class="line">        endcase.
</span><span class="line">        tempr = 0.  "leotian
</span><span class="line">      when 0 .
</span><span class="line">
</span><span class="line">        if tempr &lt;&gt; 0 .
</span><span class="line">          if ls_return &lt;&gt; ''.
</span><span class="line">            concatenate ls_return 'And' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">          endif.
</span><span class="line">          tempii = tempr.
</span><span class="line">          case tempii.
</span><span class="line">
</span><span class="line">            when 1 .
</span><span class="line">              concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">            when 2 .
</span><span class="line">              concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">            when 3 .
</span><span class="line">              concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">            when 4 .
</span><span class="line">              concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">            when 5 .
</span><span class="line">              concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">            when 6 .
</span><span class="line">              concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">            when 7 .
</span><span class="line">              concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">            when 8 .
</span><span class="line">              concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">            when 9 .
</span><span class="line">              concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">          endcase.
</span><span class="line">
</span><span class="line">        endif .
</span><span class="line">        tempe = 0.  "leotian
</span><span class="line">      when 2 .
</span><span class="line">        concatenate ls_return 'Twenty' into ls_return separated by ' '.    "WRITE 'Twenty' .
</span><span class="line">      when 3 .
</span><span class="line">        concatenate ls_return 'Thirty' into ls_return separated by ' '.    "WRITE 'Thirty' .
</span><span class="line">      when 4 .
</span><span class="line">        concatenate ls_return 'Fourty' into ls_return separated by ' '.    "WRITE 'Fourty' .
</span><span class="line">      when 5 .
</span><span class="line">        concatenate ls_return 'Fifty' into ls_return separated by ' '.    "WRITE 'Fifty' .
</span><span class="line">      when 6 .
</span><span class="line">        concatenate ls_return 'Sixty' into ls_return separated by ' '.    "WRITE 'Sixty' .
</span><span class="line">      when 7 .
</span><span class="line">        concatenate ls_return 'Seventy' into ls_return separated by ' '.    "WRITE 'Seventy' .
</span><span class="line">      when 8 .
</span><span class="line">        concatenate ls_return 'Eighty' into ls_return separated by ' '.    "WRITE 'Eighty' .
</span><span class="line">      when 9 .
</span><span class="line">        concatenate ls_return 'Ninty' into ls_return separated by ' '.    "WRITE 'Ninty' .
</span><span class="line">    endcase.
</span><span class="line">
</span><span class="line">***********************
</span><span class="line">    if tempr &lt;&gt; 0 and tempe &lt;&gt; 0.
</span><span class="line">      tempii = tempr .
</span><span class="line">      case tempii.
</span><span class="line">
</span><span class="line">        when 1 .
</span><span class="line">          concatenate ls_return 'One' into ls_return separated by ' '.    "WRITE 'One' .
</span><span class="line">        when 2 .
</span><span class="line">          concatenate ls_return 'Two' into ls_return separated by ' '.    "WRITE 'Two' .
</span><span class="line">        when 3 .
</span><span class="line">          concatenate ls_return 'Three' into ls_return separated by ' '.    "WRITE 'Three' .
</span><span class="line">        when 4 .
</span><span class="line">          concatenate ls_return 'Four' into ls_return separated by ' '.    "WRITE 'Four' .
</span><span class="line">        when 5 .
</span><span class="line">          concatenate ls_return 'Five' into ls_return separated by ' '.    "WRITE 'Five' .
</span><span class="line">        when 6 .
</span><span class="line">          concatenate ls_return 'Six' into ls_return separated by ' '.    "WRITE 'Six' .
</span><span class="line">        when 7 .
</span><span class="line">          concatenate ls_return 'Seven' into ls_return separated by ' '.    "WRITE 'Seven' .
</span><span class="line">        when 8 .
</span><span class="line">          concatenate ls_return 'Eight' into ls_return separated by ' '.    "WRITE 'Eight' .
</span><span class="line">        when 9 .
</span><span class="line">          concatenate ls_return 'Nine' into ls_return separated by ' '.    "WRITE 'Nine' .
</span><span class="line">      endcase.
</span><span class="line">
</span><span class="line">    endif .
</span><span class="line">    if ls_return &lt;&gt; ''.
</span><span class="line">      concatenate ls_return 'Cents only' into ls_return separated by ' '.    "WRITE 'And'.
</span><span class="line">    endif.
</span><span class="line">
</span><span class="line">  endif.
</span><span class="line">***********************
</span><span class="line">  "返回结果
</span><span class="line">  to_str = ls_return.
</span><span class="line">
</span><span class="line">endfunction.</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[金额转大写中文]]></title>
    <link href="http://lomozm.github.io/blog/20131225/jin-e-zhuan-da-xie-zhong-wen/"/>
    <updated>2013-12-25T11:33:41+08:00</updated>
    <id>http://lomozm.github.io/blog/20131225/jin-e-zhuan-da-xie-zhong-wen</id>
    <content type="html"><![CDATA[
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">function zcurr2chinese.
</span><span class="line">*"----------------------------------------------------------------------
</span><span class="line">*"*"本地接口：
</span><span class="line">*"  IMPORTING
</span><span class="line">*"     REFERENCE(IV_MONEY) TYPE  DMBTR
</span><span class="line">*"  EXPORTING
</span><span class="line">*"     REFERENCE(EV_MONEY) TYPE  STRING
</span><span class="line">*"  EXCEPTIONS
</span><span class="line">*"      WRONG_MONEY
</span><span class="line">*"----------------------------------------------------------------------</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
</pre></td><td class="code"><pre><code class=""><span class="line">types: cur6  type p decimals 6 ,
</span><span class="line">         cur2  type  bf_dmbtr.
</span><span class="line">  data va1 type cur2.
</span><span class="line">  data f_source type cur2.
</span><span class="line">  data str(40) type c .
</span><span class="line">  va1 = iv_money.
</span><span class="line">  f_source = va1.
</span><span class="line">
</span><span class="line">  data: scr(30) type c, res(60) type c,fen(2) type c .
</span><span class="line">  data: len type i, c1 type i, c2 type i, c3 type i, c4 type i.
</span><span class="line">  data: d1(1) type c, d2(1) type c, d3 type i.
</span><span class="line">  data: digit(2) type c, weight(2) type c.
</span><span class="line">  data: rule1(20) type c value '零壹贰叁肆伍陆柒捌玖'.
</span><span class="line">  data: rule2(30) type c value '分角元拾佰仟万拾佰仟亿拾佰仟万拾佰仟'.
</span><span class="line">  scr = f_source * 100.
</span><span class="line">  condense scr no-gaps.
</span><span class="line">  if scr = '0'.
</span><span class="line">    res = '零元'.
</span><span class="line">  else.
</span><span class="line">    len = strlen( scr ).
</span><span class="line">    c1 = 0.
</span><span class="line">    d1 = '0'.
</span><span class="line">    clear res.
</span><span class="line">    do len times.
</span><span class="line">      c1 = c1 + 1.
</span><span class="line">      c2 = len - c1.
</span><span class="line">      d2 = scr+c2(1) .
</span><span class="line">      if d2 = '0'.
</span><span class="line">        d3 = 0.
</span><span class="line">      else.
</span><span class="line">        d3 = d2.
</span><span class="line">      endif.
</span><span class="line">      digit = rule1+d3(1) .
</span><span class="line">      c3 = ( c1 - 1 ) .
</span><span class="line">      weight = rule2+c3(1) .
</span><span class="line">      if d2 = '0'.
</span><span class="line">        if c1 = 3.
</span><span class="line">          digit = ''.
</span><span class="line">        elseif c1 = 7.
</span><span class="line">          digit = ''.
</span><span class="line">          if len &gt; 10 .
</span><span class="line">            c4 = len - 10.
</span><span class="line">            if scr+c4(4) = '0000'.
</span><span class="line">              weight = ''.
</span><span class="line">            endif.
</span><span class="line">          endif.
</span><span class="line">        elseif c1 = 11.
</span><span class="line">          digit = ''.
</span><span class="line">        elseif d1 = '0'.
</span><span class="line">          digit = ''.
</span><span class="line">          weight = ''.
</span><span class="line">        else.
</span><span class="line">          weight = ''.
</span><span class="line">        endif.
</span><span class="line">      endif.
</span><span class="line">      concatenate digit weight res into res .
</span><span class="line">      d1 = d2.
</span><span class="line">    enddo.
</span><span class="line">  endif.
</span><span class="line">  len = strlen( res ) - 1.
</span><span class="line">  fen = res+len(1).
</span><span class="line">  if fen &lt;&gt; '分' .
</span><span class="line">    concatenate res '整' into ev_money.
</span><span class="line">  else.
</span><span class="line">    ev_money = res.
</span><span class="line">  endif.
</span><span class="line">
</span><span class="line">endfunction.</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[取SD凭证流 - RV_ORDER_FLOW_INFORMATION]]></title>
    <link href="http://lomozm.github.io/blog/20131224/qu-sdping-zheng-liu-rv-order-flow-information/"/>
    <updated>2013-12-24T16:24:01+08:00</updated>
    <id>http://lomozm.github.io/blog/20131224/qu-sdping-zheng-liu-rv-order-flow-information</id>
    <content type="html"><![CDATA[<p>可以得到从销售到财务凭证的流数据
</p>
<p>示例：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data: lt_vbak type table of vbak with header line,
</span><span class="line">         ls_vbco6 type vbco6.
</span><span class="line">
</span><span class="line">    ls_vbco6-mandt = sy-mandt.
</span><span class="line">    ls_vbco6-vbeln = lt_vbak-vbeln.</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class=""><span class="line">refresh: lt_vbfa.
</span><span class="line">    call function 'RV_ORDER_FLOW_INFORMATION'
</span><span class="line">      exporting
</span><span class="line">*   AUFBEREITUNG        = '2'
</span><span class="line">*   BELEGTYP            = ' '
</span><span class="line">        comwa               = ls_vbco6
</span><span class="line">*   NACHFOLGER          = 'X'
</span><span class="line">*   N_STUFEN            = '50'
</span><span class="line">*   VORGAENGER          = 'X'
</span><span class="line">*   V_STUFEN            = '50'
</span><span class="line">* IMPORTING
</span><span class="line">*   BELEGTYP_BACK       =
</span><span class="line">      tables
</span><span class="line">        vbfa_tab            = lt_vbfa
</span><span class="line">     exceptions
</span><span class="line">       no_vbfa             = 1
</span><span class="line">       no_vbuk_found       = 2
</span><span class="line">       others              = 3
</span><span class="line">              .
</span><span class="line">    if sy-subrc &lt;&gt; 0.
</span><span class="line">* Implement suitable error handling here
</span><span class="line">    endif.</span></code></pre></td></tr></table></div></figure></notextile></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[银行代码F4帮助 - SEARCH_BANK_ADDRESS]]></title>
    <link href="http://lomozm.github.io/blog/20131223/yin-xing-dai-ma-f4bang-zhu-search-bank-address/"/>
    <updated>2013-12-23T15:55:56+08:00</updated>
    <id>http://lomozm.github.io/blog/20131223/yin-xing-dai-ma-f4bang-zhu-search-bank-address</id>
    <content type="html"><![CDATA[<p>说明：输入国家代码，运行时弹出选择窗口</p>

<p>示例：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class=""><span class="line">data: lwa_bnka type bnka.
</span><span class="line">
</span><span class="line">  call function 'SEARCH_BANK_ADDRESS'
</span><span class="line">    exporting
</span><span class="line">      i_banks = p_banks
</span><span class="line">*     I_MORE  = 'X'
</span><span class="line">    importing
</span><span class="line">      e_bnka  = lwa_bnka.
</span><span class="line">  if lwa_bnka is not initial.
</span><span class="line">    p_0026  = lwa_bnka-bankl.
</span><span class="line">  endif.</span></code></pre></td></tr></table></div></figure></notextile></div>

<!--more-->
<p><img src="http://lomozm.github.io/images/images/daa36f17829e2b3321a7f0c3e99cfe82.jpeg" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My first octopress blog]]></title>
    <link href="http://lomozm.github.io/blog/20131223/my-first-octopress-blog/"/>
    <updated>2013-12-23T13:14:39+08:00</updated>
    <id>http://lomozm.github.io/blog/20131223/my-first-octopress-blog</id>
    <content type="html"><![CDATA[
<p>话说第一篇blog是关于octopress的，魔咒啊！<br />
很早就有建自己blog的想法，最近项目空闲，总算是实现了，也不尽完美<br /><br />
octopress主要优点就是可以绑定自己的域名<br />
<!--more--></p>
<h3>基础搭建</h3>
<p>参船长的文档<a href="http://beyondvincent.com/blog/2013/08/03/108-creating-a-github-blog-using-octopress">利用Octopress搭建一个Github博客</a>
<br /></p>
<h3>导航和评论</h3>
<p>参照冯威的<a href="http://www.cnblogs.com/oec2003/archive/2013/05/31/3109577.html">Octopress博客设置</a>
<br /></p>
<p>说明一下，里面<code>category_list_tag.rb</code>文件内容要做些更改，因为github地址栏不支持中文

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
</pre></td><td class="code"><pre><code class=""><span class="line">module Jekyll 
</span><span class="line">  class CategoryListTag &lt; Liquid::Tag 
</span><span class="line">    def render(context) 
</span><span class="line">      html = "" 
</span><span class="line">      categories = context.registers[:site].categories.keys 
</span><span class="line">      categories.sort.each do |category| 
</span><span class="line">        posts_in_category = context.registers[:site].categories[category].size 
</span><span class="line">        category_dir = context.registers[:site].config['category_dir']
</span><span class="line">        category_url = File.join(category_dir, category.to_url)
</span><span class="line">        html &lt;&lt; "&lt;li class='category'&gt;&lt;a href='http://lomozm.github.io/#{category_url}/'&gt;#{category} (#{posts_in_category})&lt;/a&gt;&lt;/li&gt;\n" 
</span><span class="line">      end 
</span><span class="line">      html 
</span><span class="line">    end 
</span><span class="line">  end 
</span><span class="line">end
</span><span class="line">
</span><span class="line">Liquid::Template.register_tag('category_list', Jekyll::CategoryListTag)
</span><span class="line">require 'stringex'</span></code></pre></td></tr></table></div></figure></notextile></div>

</p>

<h3>其它</h3>
<p>改变图标<a href="http://brianbuccola.github.io/blog/2012-11-29-how-to-change-the-favicon-in-octopress.html">How to Change the Favicon in Octopress</a><br />
插入链接<a href="http://wowubuntu.com/markdown">Markdown 语法说明</a>(注意：如果链接是以”/“结尾的，需把它去掉)<br />
其它技巧<a href="http://blog.jackphil.com/blog/2012/05/16/octopress-tips">Octopress技巧集</a><br /></p>
<p>对于配置文件<code>_config.yml</code>的一些更改

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">permalink: /blog/:year:month:day/:title/
</span><span class="line">markdown: kramdown
</span><span class="line">excerpt_link: "阅读全文…” 
</span><span class="line">default_asides: [asides/title_pic.html, asides/recent_posts.html, custom/asides/recent_comment.html, asides/category_list.html]</span></code></pre></td></tr></table></div></figure></notextile></div>

</p>
<h3>附上整理的Markdown部分语法</h3>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class=""><span class="line">octopress发布blog常用格式
</span><span class="line">
</span><span class="line">sudo rake new_post[“    “]
</span><span class="line">sudo rake generate
</span><span class="line">sudo rake deploy
</span><span class="line">
</span><span class="line">&lt;code&gt;  &lt;/code&gt;
</span><span class="line">&lt;h3&gt;    &lt;/h3&gt;
</span><span class="line">&lt;p&gt; 	&lt;/p&gt;
</span><span class="line">
</span><span class="line">&lt;ol&gt;或者&lt;ul&gt;
</span><span class="line">  &lt;li&gt;  &lt;/li&gt;
</span><span class="line">  &lt;li&gt;  &lt;/li&gt;
</span><span class="line">&lt;/ol&gt;或者&lt;/ul&gt;
</span><span class="line">
</span><span class="line">插入链接[Markdown 语法说明][2]
</span><span class="line">[2]: http://wowubuntu.com/markdown “说明”
</span><span class="line">
</span><span class="line">*或者**     *或者**
</span><span class="line">&lt;!--more—&gt;
</span><span class="line">转义符反斜杠\</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>最后，感谢万能的google！</p>
<p><br /></p>
]]></content>
  </entry>
  
</feed>
